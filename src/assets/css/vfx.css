/* =========================================
   VISUAL EFFECTS & ANIMATIONS
   ========================================= */

/* Enhanced Screen Shake */
.shake-heavy {
  animation: shakeHeavy 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

@keyframes shakeHeavy {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5px, 2px); }
  20% { transform: translate(5px, -2px); }
  30% { transform: translate(-5px, -3px); }
  40% { transform: translate(5px, 3px); }
  50% { transform: translate(-4px, 1px); }
  60% { transform: translate(4px, -1px); }
  70% { transform: translate(-3px, -2px); }
  80% { transform: translate(3px, 2px); }
  90% { transform: translate(-2px, 1px); }
}

/* Particle Base */
.vfx-particle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 25;
  animation: particleFloat 0.8s ease-out forwards;
}

@keyframes particleFloat {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--offset-x), var(--offset-y)) scale(0);
    opacity: 0;
  }
}

/* Fire Particles */
.vfx-fire {
  background: radial-gradient(circle, #ff4444, #ff8800);
  box-shadow: 0 0 8px #ff4444;
}

/* Ice Particles */
.vfx-ice {
  background: radial-gradient(circle, #42cbf5, #ffffff);
  box-shadow: 0 0 8px #42cbf5;
}

/* Blood Particles */
.vfx-blood {
  background: radial-gradient(circle, #cc0000, #880000);
  box-shadow: 0 0 6px #cc0000;
  width: 4px;
  height: 4px;
}

/* Heal Particles */
.vfx-heal {
  background: radial-gradient(circle, #66ff66, #ffffff);
  box-shadow: 0 0 10px #66ff66;
  animation: healFloat 0.8s ease-out forwards;
}

@keyframes healFloat {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--offset-x), calc(var(--offset-y) - 30px)) scale(0);
    opacity: 0;
  }
}

/* Dark/Terror Particles */
.vfx-dark {
  background: radial-gradient(circle, #663399, #000000);
  box-shadow: 0 0 8px #663399;
}

/* Impact Particles */
.vfx-impact {
  background: radial-gradient(circle, #ffffff, #888888);
  box-shadow: 0 0 6px #ffffff;
  width: 8px;
  height: 8px;
}

/* Sprite State Animations */
.vfx-burning {
  animation: burning 0.6s ease-in-out;
  filter: hue-rotate(20deg) brightness(1.3);
}

@keyframes burning {
  0%, 100% { filter: hue-rotate(0deg) brightness(1); }
  25% { filter: hue-rotate(20deg) brightness(1.4); }
  50% { filter: hue-rotate(40deg) brightness(1.2); }
  75% { filter: hue-rotate(20deg) brightness(1.4); }
}

.vfx-frozen {
  animation: frozen 0.6s ease-in-out;
  filter: hue-rotate(-120deg) brightness(1.5);
}

@keyframes frozen {
  0% { filter: hue-rotate(0deg) brightness(1); }
  20% { filter: hue-rotate(-60deg) brightness(1.3) blur(1px); }
  40% { filter: hue-rotate(-120deg) brightness(1.5) blur(0px); }
  60% { filter: hue-rotate(-120deg) brightness(1.5); }
  80% { filter: hue-rotate(-60deg) brightness(1.2); }
  100% { filter: hue-rotate(0deg) brightness(1); }
}

.vfx-bleeding {
  animation: bleeding 0.5s ease-in-out;
}

@keyframes bleeding {
  0%, 100% { filter: brightness(1); }
  25%, 75% { filter: brightness(1.5) hue-rotate(-30deg); }
  50% { filter: brightness(2) hue-rotate(-60deg) saturate(2); }
}

.vfx-stunned {
  animation: stunned 0.4s ease-in-out;
}

@keyframes stunned {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-5deg) scale(1.1); }
  50% { transform: rotate(5deg) scale(0.9); }
  75% { transform: rotate(-3deg) scale(1.05); }
}

.vfx-healing {
  animation: healing 0.6s ease-in-out;
}

@keyframes healing {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.8) hue-rotate(90deg) saturate(1.5); }
}

/* Boss Entrance Animation */
.boss-entrance {
  animation: bossEntrance 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes bossEntrance {
  0% {
    transform: translateY(-200%) scale(0.3) rotate(-20deg);
    opacity: 0;
    filter: blur(5px);
  }
  40% {
    transform: translateY(20%) scale(1.3) rotate(5deg);
    opacity: 1;
    filter: blur(2px);
  }
  60% {
    transform: translateY(-10%) scale(0.9) rotate(-2deg);
    filter: blur(0px);
  }
  80% {
    transform: translateY(5%) scale(1.1) rotate(1deg);
  }
  100% {
    transform: translateY(0) scale(1) rotate(0deg);
    opacity: 1;
    filter: blur(0px);
  }
}

.boss-entrance-bg {
  animation: bossEntranceBg 1.2s ease-out;
}

@keyframes bossEntranceBg {
  0% {
    background: #0a0a0a;
  }
  50% {
    background: radial-gradient(circle at center, #300000, #0a0a0a);
  }
  100% {
    background: #0a0a0a;
  }
}

/* Enhanced Flash Effect */
.flash {
  animation: flashEnhanced 0.3s ease-out;
}

@keyframes flashEnhanced {
  0% {
    background: rgba(255, 255, 255, 0);
  }
  50% {
    background: rgba(255, 50, 50, 0.4);
  }
  100% {
    background: rgba(255, 255, 255, 0);
  }
}

/* Skill Cast Glow */
.skill-casting {
  animation: skillCast 0.5s ease-out;
}

@keyframes skillCast {
  0% {
    box-shadow: 0 0 0 rgba(66, 203, 245, 0);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 30px rgba(66, 203, 245, 0.8);
    transform: scale(1.05);
  }
  100% {
    box-shadow: 0 0 0 rgba(66, 203, 245, 0);
    transform: scale(1);
  }
}

/* Level Up Celebratio */
.level-up-burst {
  animation: levelUpBurst 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes levelUpBurst {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
    filter: brightness(1);
  }
  50% {
    transform: scale(1.5) rotate(180deg);
    opacity: 1;
    filter: brightness(2) saturate(2);
  }
  100% {
    transform: scale(3) rotate(360deg);
    opacity: 0;
    filter: brightness(3) saturate(3);
  }
}

/* Smooth Panel Transitions */
.panel {
  transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

.panel:not(.active) {
  opacity: 0;
  transform: translateY(10px);
}

.panel.active {
  opacity: 1;
  transform: translateY(0);
}

/* Enhanced Damage Numbers */
/* Enhanced Damage Numbers (Legacy - Moved to VfxLayer.vue) */
/*
.dmg-popup {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 18px;
  font-weight: bold;
  pointer-events: none;
  z-index: 100;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.8), 0 0 10px currentColor;
  animation: dmg-float 1s ease-out forwards;
}

.dmg-physical { color: #ff4444; }
.dmg-magic { color: #42cbf5; }
.dmg-heal { color: #44ff44; }
.dmg-critical {
  font-size: 28px !important;
  color: #ffff00;
  animation: dmg-critical 1s ease-out forwards;
}

@keyframes dmg-float {
  0% { opacity: 1; transform: translate(-50%, -50%) scale(0.8); }
  20% { transform: translate(-50%, -50%) scale(1.2); }
  100% { opacity: 0; transform: translate(-50%, calc(-50% - 60px)) scale(1); }
}

@keyframes dmg-critical {
  0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5) rotate(-10deg); }
  15% { transform: translate(-50%, -50%) scale(1.5) rotate(5deg); }
  30% { transform: translate(-50%, -50%) scale(1.2) rotate(-2deg); }
  100% { opacity: 0; transform: translate(-50%, calc(-50% - 80px)) scale(1) rotate(0deg); }
}
*/
